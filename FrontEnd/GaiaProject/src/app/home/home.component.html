<div class="bg-secondary bg-geral container-fluid p-0">
    <app-menu></app-menu>

    <!--Off Canvas-->
    <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
        id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Categorias de produtos:</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>

        <div class="offcanvas-body">
            <div>
                <div class="row mt-3 mb-5 d-flex justify-content-center">
                    <div class="col-md-12">
                        <table class="table table-hover">
                            <tbody>
                                <tr *ngFor='let categorias of listaCategorias'>
                                    <a routerLink="/{{categorias.nomeDaCategoria}}">
                                        <td class="btn">{{categorias.nomeDaCategoria}}</td>
                                    </a>
                                </tr>
                                <tr>

                            </tbody>
                        </table>
                    </div>
                    <div class="mt-20">
                        <p class="btn btn-primary" routerLink="/adicionarCategoria">Configurações das categorias</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Off Canvas-->

    <div class="row d-flex justify-content-center shadow">

        <div class="col-9 bg-teste ">
            <!--Carrosel-->
            <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active" data-bs-interval="10000">
                    <img src="https://cdn.discordapp.com/attachments/892048100582109274/892518731299848232/Img1_1280x628px.jpg"
                    class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item" data-bs-interval="2000">
                    <img src="http://nacionalsol.com.br/wp-content/uploads/2021/05/como-e-feito-energia-solar.png"
                                    class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="assets/imgs/INFOGRAFICO_REAPROVEITAMENTO_DA_AGUA_Prancheta_1.jpg"
                                    class="d-block w-100" alt="...">
                  </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            <!--Carrosel-->

            <div>
                <button class="mr-3 btn bg-transparent tbold button1" data-bs-toggle="modal" data-bs-target="#newProduto">Adicionar novo Produto</button>
            </div>

            <div class="modal fade" id="newProduto" tabindex="-1" aria-labelledby="newProdutoLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="newProdutoLabel">Novo Produto</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
              
                    <div class="modal-body">
                      <div class="form-group">
                        <label for="nome">Nome do Produto</label>
                        <input [(ngModel)]='produto.nome' type="text" class="form-control" id="nome"
                          placeholder="Digite o nome do produto">
                      </div>
                      <div class="form-group">
                        <label for="descricao">Descrição do produto</label>
                        <textarea [(ngModel)]='produto.descricao' class="form-control " name="descricao" id="descricao"
                          rows="5"></textarea>
                      </div>
                      <div class="form-group">
                        <label for="descricao">Escolha a categoria ou <a routerLink='/adicionarCategoria' data-bs-dismiss="modal">cadastre uma
                            nova</a>: </label>
                        <select name="categoria" id="categoria" class="form-select" [(ngModel)]='idCategoria' (change)='findByIdCategoria()'>
                          <option *ngFor='let item of listaCategorias' value="{{item.idCategoria}}">{{item.nomeDaCategoria}}</option>
                        </select>
                      </div>
                    </div>
              
                    <div class="modal-footer">
                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
                      <button type="button" class="btn btn-success" (click)='publicar()' data-bs-dismiss="modal">Publicar</button>
                    </div>
                  </div>
                </div>
              </div>

            <!--Ofertas!!!-->

            <!-- <div class="row p-md-3 justify-content-center">
                <div class="col-sm-3 p-md-2">
                    <div class="card">
                        <div class="card-body">
                            <img src="https://images-soubarato.b2w.io/produtos/2679443501/imagens/conjunto-de-colheres-garfo-ecologico-para-viagens-e-talheres-de-bambu-portatil-inclui-bambu-reutilizavel/2679443501_1_large.jpg"
                                alt="Talher de madeira" class="d-block container" height="350px" width="350px">
                            <h5 class="card-title">Talher de madeira</h5>
                            <p class="card-text">Talher para cozinha</p>
                            <a href="#" class="btn btn-primary bg-success">R$19,99</a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 p-md-2">
                    <div class="card">
                        <div class="card-body">
                            <img src="assets/imgs/composteira_plastica_60l_89508741_0001_600x600.jpg" alt=""
                                class="d-block container" height="350px" width="350px">
                            <h5 class="card-title">Composteira</h5>
                            <p class="card-text align-text-end">Composteira</p>
                            <a href="#" class="btn btn-primary bg-success">R$129,90</a>
                        </div>
                    </div>
                </div>

                <div class="col-sm-3 p-md-2">
                    <div class="card">
                        <div class="card-body">
                            <img src="assets/imgs/painel solar jgp.jfif" alt="" class="d-block container" height="350px"
                                width="350px">
                            <h5 class="card-title">Painel solar</h5>
                            <p class="card-text">Rainbow sun</p>
                            <a href="#" class="btn btn-primary bg-success">R$199,90</a>
                        </div>
                    </div>
                </div>
            </div> -->

            <div id="produtos" class="container mb-5 mt-5">
                <div class="row d-flex justify-content-center">
                    <nav>
                        <div class="nav nav-tabs d-flex justify-content-center" id="nav-tab" role="tablist">
            
                            <button class="nav-link active text-secondary fw-bold" id="nav-todosProdutos-tab" data-bs-toggle="tab"
                                data-bs-target="#todosProdutos" type="button" role="tab" aria-controls="nav-todosProdutos"
                                aria-selected="true">Todos os Produtos</button>
            
                            <button class="nav-link text-secondary fw-bold" id="nav-categoriaProdutos-tab" data-bs-toggle="tab"
                                data-bs-target="#categoriaProdutos" type="button" role="tab" aria-controls="nav-categoriaProdutos"
                                aria-selected="false">Produtos por Categoria</button>
            
                        </div>
                    </nav>
            
                    
                    <div class="tab-content mt-5 d-flex justify-content-center" id="nav-tabContent">
            
                        <div class="tab-pane fade show active" id="allRecipes" role="tabpanel" aria-labelledby="nav-todosProdutos-tab">
                            
                            <div class="card-group">
                                <div class="card" *ngFor='let item of listaProdutos' style="width: 18rem;">
                                    <img src="../../assets/imgs/composteira_plastica_60l_89508741_0001_600x600.jpg" class="card-img-top" alt="...">
                                    <div class="card-body">
                                      <h5 class="card-title">
                                          {{item.nome}}
                                        </h5>
                                      <p class="card-text">
                                          {{item.descricao}}
                                        </p>
                                      <p class="card-text">
                                          {{item.categorias.nomeDaCategoria}}
                                        </p>
                                      <a [routerLink]="['/produto-edit',item.idProduto]" class="text-primary">Editar</a>

                                      <a [routerLink]="['/produto-delete',item.idProduto]" class="text-danger">Apagar</a>


                                    </div>
                                  </div>
                            </div>
            
                        </div>
            
                        
                        <div class="tab-pane fade" id="categoriaProdutos" role="tabpanel" aria-labelledby="nav-categoriaProdutos-tab">
                            <div class="card-group" *ngFor='let categorias of listaCategorias'>
                                <div class="card" *ngFor='let item of categorias.produtos' style="width: 18rem;">
                                    <img src="../../assets/imgs/composteira_plastica_60l_89508741_0001_600x600.jpg" class="card-img-top" alt="...">
                                    <div class="card-body">
                                      <h5 class="card-title">
                                          {{item.nome}}
                                        </h5>
                                      <p class="card-text">
                                          {{item.descricao}}
                                      </p>
                                      <a href="#" class="btn btn-primary">Go somewhere</a>
                                    </div>
                                  </div>
                            </div>

                        </div>
            
                    </div>
                </div>
            </div>

            <!--Ofertas!!!-->

            <!--Recurso de navegação entre pag's-->
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center p-md-3">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Anterior</a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Próxima</a>
                    </li>
                </ul>
            </nav>
            <!--Recurso de navegação entre pag's-->

        </div>
    </div>
    <app-footer></app-footer>
</div>